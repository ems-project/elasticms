# ContentType's encoding form

By content type you have to define an encoding form. That form is defined by a structure of [DataFields](https://github.com/ems-project/elasticms/tree/5.x/EMS/core-bundle/src/Form/DataField).

You have several types of DataField available to define the form structure :

| Type                 | In the revision form                                                                   | In elastisearch                                                                                            | Has Child           | Deprecated                        |
|----------------------|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|---------------------|-----------------------------------|
| Asset                | Mini app allowing to upload/download/drag-n-drop file(s)                               | Array or array of array of meta information about files (hash, filename, filesize and mimetype)            | No                  |                                   |
| Checkbox             | Checkbox                                                                               | Boolean                                                                                                    | No                  |                                   |
| Choice               | Radio buttons, Check boxes, Single-Select Combobox or Multi-Select Combobox            | String or array of string                                                                                  | No                  |                                   |
| Code                 | [ACE editor](https://ace.c9.io/)                                                       | text                                                                                                       | No                  |                                   |
| Collection           | A dynamic and reorderable list of subforms                                             | nested object                                                                                              | Many                |                                   |
| Color                | A color picker                                                                         | text or keyword                                                                                            | No                  |                                   |
| Computed             | No input but a template in the revision view                                           | free defined mapping                                                                                       | May have            |                                   |
| Container            | Just a container to organize children fields                                           | [N/A]                                                                                                      | Yes                 |                                   |
| CopyTo               | [N/A]                                                                                  | Allow to defined mapping without form's field                                                              | No                  |                                   |
| DataLink             | Document picker                                                                        | keyword (string or array of strings)                                                                       | No                  |                                   |
| Date                 | Date picker                                                                            | date                                                                                                       | No                  |                                   |
| DateRange            | Date range picker                                                                      | 2 dates (nested or not)                                                                                    | No                  |                                   |
| DateTime             | Date time picker                                                                       | date                                                                                                       | No                  |                                   |
| Email                | Email                                                                                  | text or keyword                                                                                            | No                  |                                   |
| Form                 | Load the corresponding form entity                                                     | Load the corresponding form entity                                                                         | Many                |                                   |
| Hidden               |                                                                                        |                                                                                                            | No                  | Use a hidden class                |
| Holder               | Invisible container                                                                    | [N/A]                                                                                                      | Many                |                                   |
| Icon                 | FontAwsome 3 class picker                                                              | text or keyword                                                                                            | No                  | Avoid it                          |
| IndexedAsset         | Mini app allowing to upload/download/drag-n-drop file(s) with Tika extractions         | Array of meta information about files (hash, filename, filesize, mimetype, language, content, author, ...) | No                  |                                   |
| Integer              | Text field                                                                             | integer                                                                                                    | No                  |                                   |
| JSON                 | [ACE editor](https://ace.c9.io/)                                                       | free defined mapping                                                                                       | No                  |                                   |
| JsonMenu             | Simple structure saved as a string in a JSON                                           | text                                                                                                       |                     |                                   |
| JsonMenuLink         | Link to a JsonMenu node                                                                | text                                                                                                       |                     |                                   |
| JsonMenuNestedEditor | Complex structure (with many subforms) saved as a string in a JSON                     | text                                                                                                       | Many (JSON encoded) |                                   |
| JsonMenuNestedLink   | Link to a JsonMenuNestedEditor node                                                    | text                                                                                                       |                     |                                   |
| Multiplexed          | Render a form per value (form are selected via tab) can be integrated with a Tab field | Prefixed all subfields (not nested) i.e. fr.title                                                          | Many                |                                   |
| Nested               | Similar to a container; organise children fields                                       | nested mapping                                                                                             | Many                |                                   |
| Number               | Text field                                                                             | double                                                                                                     | No                  |                                   |
| Ouuid                |                                                                                        |                                                                                                            | No                  | Use the `_id` in a Computed field |
| Password             | Password field                                                                         | text or keyword (the password is hashed)                                                                   | No                  |                                   |
| Radio                |                                                                                        |                                                                                                            | No                  | Use a Choice field                |
| Select               |                                                                                        |                                                                                                            | No                  | Use a Choice field                |
| Subfield             | [N/A]                                                                                  | Defined a submapping to the field. I.e. `title.raw`                                                        | No                  |                                   |
| Tabs                 | Allow to organize subforms in different tabs                                           | [N/A]                                                                                                      | Many (Containers)   |                                   |
| TextString           | Text field                                                                             |                                                                                                            | No                  |                                   |
| Textarea             | Textarea field                                                                         | text                                                                                                       | No                  |                                   |
| Time                 | Time picker                                                                            |                                                                                                            | No                  |                                   |
| VersionTag           |                                                                                        |                                                                                                            | No                  |                                   |
| Wysiwyg              | [CK Editor](https://ckeditor.com/                                                      | text                                                                                                       | No                  |                                   |

 ## Postprocessing

It's a powerful way to validate, provide each form's DataField. It can be configured with a Twig template in the  field's extra options tab.

Context of the postprocessing template:
 - `_id`: Document's OUUID (string) or `null` if the documents hasn't been finalized yet
 - `migration`: boolean set to `true` in the context of a migration (like in the context of the `ems:contenttype:migrate` or `ems:contenttype:recompute` command)
 - `finalize`: boolean set to `false` in the context of an autosave, otherwize set to `true`
 - `rootObject`: The associate array of the document's RAW data as it was extracted from the Revision's form
 - `_source`: The associate array of the current field with all its siblings (refers to data of the current DataField structure)
 - `_type`: content type's name (string)
 - `index`: Elasticsearch's alias of the content type's default environment
 - `alias`: Elasticsearch's alias of the content type's default environment
 - `path`: Dot path to the current DataField (i.e. `'fr.title'`)
 - `form`: Symfony Form object of the current DataField

