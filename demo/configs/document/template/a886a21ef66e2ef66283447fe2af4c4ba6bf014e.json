{
    "body": "{% extends '@EMSCH/template/view/abstract.html.twig' %}\n{% trans_default_domain trans_default_domain %}\n\n{% block title %}{{ 'blog.title'|trans }}{% endblock %}\n\n{% block view_body %}\n    {%  set query = emsch_search('news', {\n        \"sort\": {\n            \"publication_date\": {\n                \"order\": \"desc\",\n                \"missing\": \"_last\",\n                \"unmapped_type\": \"long\"\n            }\n        },\n        \"size\": 100,\n        \"aggs\": {\n            \"categories\": {\n                \"terms\": { \"field\": \"categories\" }\n            }\n        }\n    }) %}\n\n    {%  set tags = emsch_search('category', {\n        \"size\": 1000,\n        \"_source\": [\"#{app.request.locale}.title\"]\n    }).hits.hits|default([])|array_key('_id')|map(p => attribute(p._source, app.request.locale).title) %}\n\n    <div class=\"container-fluid container-lg\">\n        <div class=\"py-5 py-lg-8\">\n            <h2>{{ \"blog.filter\"|trans }}</h2>\n            <div class=\"news-filters mb-5 d-sm-flex\">\n                {% for categories in query.aggregations.categories.buckets|default([]) %}\n                    <div class=\"custom-control custom-checkbox text-left btn btn-outline-primary pl-5 mr-3 mb-2\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{ categories.key }}\" value=\"{{ categories.key }}\">\n                        <label class=\"custom-control-label\" for=\"{{ categories.key }}\">{{ attribute(tags, categories.key|split(':')|last)}}</label>\n                    </div>\n                {% endfor %}\n            </div>\n            <div class=\"row\">\n                {% for news in query.hits.hits|default([]) %}\n                    {{ block('card', '@EMSCH/template/news/thumbnail.html.twig') }}\n                {% endfor %}\n            </div>\n        </div>\n    </div>\n{% endblock view_body %}\n",
    "name": "view/news.html.twig"
}