{% extends '@EMSCH/template/page/blocks/abstract-block.html.twig' %}

{% block widget %}
    {% set replacers = {} %}
    {% set offSet = headerBlockLevel + (item.object.title is defined ? 1 : 0) - 2 %}
    {% for i in 2..6 %}
        {% set header = (i + offSet) > 6 ? 6 : (i+offSet) %}
        {% set replacers = replacers|merge({
            ('<h'~(i)): ('<h'~(header)),
            ('</h'~(i)): ('</h'~(header)),
        }) %}
    {% endfor %}
    {{ item.object.body|default('')|replace(replacers)|emsch_routing }}
{% endblock widget %}
